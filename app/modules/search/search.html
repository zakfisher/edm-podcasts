<fa-modifier
  fa-size="search.options.size"
  fa-translate="search.options.translate">
  <fa-header-footer-layout 
    fa-options="search.options.layout">
    
    <!-- Query -->
    <fa-view>

      <!-- Background -->
      <fa-modifier 
        fa-translate="search.options.query.background.translate">
        <fa-surface class="search-query-background"
          ng-class="{largescreen:window.isLargescreen}"
          fa-background-color="search.options.query.background.bgColor">
        </fa-surface>
      </fa-modifier>

      <!-- Search Icon -->
      <fa-modifier
        ng-if="isLargescreen"
        fa-size="search.options.searchIcon.size" 
        fa-translate="search.options.searchIcon.translate">
        <fa-surface 
          class="large-menu-search-icon">
          <div class="wf-wire-search"></div>
        </fa-surface>
      </fa-modifier>

      <!-- Text -->
      <fa-modifier 
        fa-align="search.options.query.text.align" 
        fa-origin="search.options.query.text.origin" 
        fa-size="search.options.query.text.size" 
        fa-translate="search.options.query.text.translate">
        <fa-surface class="search-query-text"
          ng-class="{largescreen:isLargescreen}">
          <h1 class="searchBox" 
            ng-if="!isLargescreen"
            ng-bind="string + '|'"></h1>
          <h1 class="searchBox" 
            ng-if="isLargescreen"
            ng-bind="string"></h1>
        </fa-surface>
      </fa-modifier>

      <!-- Placeholder -->
      <fa-modifier 
        fa-align="search.options.query.placeholder.align" 
        fa-origin="search.options.query.placeholder.origin" 
        fa-size="search.options.query.placeholder.size" 
        fa-translate="search.options.query.placeholder.translate">
        <fa-surface class="search-query-placeholder">
          <h2 ng-if="string.length == 0">{{search.options.query.placeholder.text}}</h2>
        </fa-surface>
      </fa-modifier>

    </fa-view>

    <!-- Results -->
    <fa-view>
      <fa-modifier
        ng-if="search.options.active"
        fa-align="search.options.results.grid.align"
        fa-origin="search.options.results.grid.origin"
        fa-size="search.options.results.grid.size"
        fa-translate="search.options.results.grid.translate">
        
        <!-- Result Grid -->
        <fa-grid-layout 
          ng-if="results.length > 0"
          fa-options="search.options.results.grid.options">
            <fa-surface class="search-results" ng-class="{largescreen:isLargescreen}"
              ng-repeat="column in results">
              <div ng-repeat="result in column">
                <h1 ng-if="!isLargescreen && ($index == 0) && result.isStore">Stores</h1>
                <h1 ng-if="!isLargescreen && ($index == 0) && result.isFood">Food</h1>
                <h2 ng-bind-html="result.name" ng-click="handleResultClick(result)"></h2>
              </div>
          </fa-surface>
        </fa-grid-layout>

        <!-- No results -->
        <fa-modifier ng-if="(results.length === 0) && (string.length > 0)">
          <fa-surface class="search-results" ng-class="{largescreen:isLargescreen}">
            <h1>Sorry, no stores found.</h1>
          </fa-surface>
        </fa-modifier>

      </fa-modifier>
    </fa-view>

    <!-- Keyboard -->
    <fa-view>
      <fa-modifier ng-if="search.options.active">
        <fa-surface fa-background-color="search.options.keyboard.bgColor">
        </fa-surface>
        <fa-modifier 
          fa-align="search.options.keyboard.align" 
          fa-origin="search.options.keyboard.origin" 
          fa-size="search.options.keyboard.size" 
          fa-opacity="search.options.keyboard.opacity.get()"
          fa-translate="search.options.keyboard.translate.get()">
          <fa-surface class="search-keyboard"
            ng-class="{largescreen:window.isLargescreen}"
            fa-background-color="search.options.keyboard.bgColor">
            <keyboard model="string"></keyboard>
          </fa-surface>
        </fa-modifier>
      </fa-modifier>
    </fa-view>

  </fa-header-footer-layout>
</fa-modifier>